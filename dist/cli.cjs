#!/usr/bin/env node
var k=Object.defineProperty;var p=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var m=(t,n,e)=>n in t?k(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,g=(t,n)=>{for(var e in n||(n={}))h.call(n,e)&&m(t,e,n[e]);if(p)for(var e of p(n))y.call(n,e)&&m(t,e,n[e]);return t};var $=(t,n)=>{var e={};for(var r in t)h.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&p)for(var r of p(t))n.indexOf(r)<0&&y.call(t,r)&&(e[r]=t[r]);return e};var w="3.0.0-alpha.52",f={RELEASE_BUMP_VERSION:w};var R=require("./index.cjs");var u=[{alternates:["changelog-path","changelog"],description:"Path to changelog.",name:"changelogPath",type:"string"},{alias:"c",alternates:["config-path","config"],description:"Path to config file",name:"configPath",type:"string"},{description:"Release date.",name:"date",type:"string"},{alias:"d",alternates:["dry-run","dry"],description:"Dry run.",name:"dryRun",type:"boolean"},{alias:"e",alternates:["fail-on-error","fail"],description:"Fail on error.",name:"failOnError",type:"boolean"},{alternates:["files-path","files"],description:"Path to directory of files to bump.",name:"filesPath",type:"string"},{description:"Directories to ignore.",name:"ignore",type:"string[]"},{alias:"h",description:"Log CLI usage text.",name:"help",type:"boolean"},{alias:"p",description:"Prefix release version with a 'v'.",name:"prefix",type:"boolean"},{alias:"q",description:"Quiet, no logs.",name:"quiet",type:"boolean"},{description:"Release version.",name:"release",type:"string"},{alternates:["repo"],description:"Remote git repository URL.",name:"repository",type:"string"},{alias:"v",description:"Log Release Bump version.",name:"version",type:"boolean"}];function x(t){return[`Usage
	$ release-bump <options>`,"Options"+t.reduce((n,e)=>{let r=e.alias?(e.name.length<6?"	":"")+`	-${e.alias}`:"		",l=e.alias?`	${e.description}`:(e.name.length<6?"	":"")+e.description;return n+`
	--${e.name}${r}${l}`},""),`Examples
	$ release-bump -pq --files=src`].join(`

`)}function O(t){return t!=null&&t.RELEASE_BUMP_VERSION?"v"+t.RELEASE_BUMP_VERSION:"no version found"}function P(t,n){return t.reduce((e,r,l)=>{let a={};if(r.indexOf("--")===0){let[i,s]=r.substr(2).split("="),o=n.find(c=>{var d;return c.name===i||((d=c==null?void 0:c.alternates)!=null?d:[]).includes(i)});if(o)switch(o.type){case"boolean":a[o.name]=!0;break;case"string[]":a[o.name]=s==null?void 0:s.split(",");break;default:a[o.name]=s;break}}else if(r.indexOf("-")===0)[...r.substr(1)].forEach(i=>{let s=n.find(o=>o.alias===i);s&&(a[s.name]=!0)});else{let i=Object.keys(e),s=i[i.length-1],o=n.find(c=>c.name===s);o&&(e[s]===`$${l-1}`||typeof e[s]>"u")&&(a[s]=o.type==="string[]"?r.split(","):r)}return g(g({},e),a)},{})}(async function(){var l,a;let t=(a=(l=process.argv)==null?void 0:l.slice(2))!=null?a:[],i=P(t,u),{help:n,version:e}=i,r=$(i,["help","version"]);if(n===!0)return console.info(x(u));if(e===!0)return console.info(O(f));await(0,R.releaseBump)(r)})();
