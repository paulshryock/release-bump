#!/bin/sh

# Maybe install npm dependencies.
NPM_MISSING=$([ ! -d "node_modules" ])
NPM_CHANGED=$(git diff --name-only HEAD@{1} HEAD | grep "^package-lock.json" > /dev/null 2>&1)

if $NPM_MISSING || $NPM_CHANGED; then
	if $NPM_MISSING; then
		echo "ðŸ“¦ installing npm dependencies."
	elif $NPM_CHANGED; then
		echo "ðŸ“¦ updating npm dependencies."
	fi
	npm ci
fi
